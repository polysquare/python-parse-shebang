language: python
sudo: false
cache:
  directories:
  - container
matrix:
  include:
  - os: linux
    python: '2.7'
  - os: linux
    python: '3.5'
  - os: linux
    python: 'pypy3'
  - os: osx
    language: generic
    env: PYTHON=python PIP=pip
    osx_image: xcode8
  - os: osx
    language: generic
    env: PYTHON=python3 PIP=pip3
    osx_image: xcode8
install:
- eval $(curl -LSs --retry 100 --connect-timeout 3 public-travis-scripts.polysquare.org/bootstrap.py
  | python /dev/stdin -d container -s setup/python/setup.py -e bash -p /dev/stdout)
script:
- polysquare_run check/python/check.py
before_cache:
- polysquare_cleanup
after_success:
- polysquare_run coverage/python/coverage.py
before_deploy:
- polysquare_run deploy/python/deploy.py
deploy:
  provider: pypi
  user: Sam.Spilsbury
  password:
    secure: gxIKURqPoY612RPDl32myi0UYuH78xuwC5808M/mq/7T7mjOP8MD0DW2BhAMUxKJ3gUHYm7SY4ZsS0q4q46Wg8huId8kij5HxLT6hLi5qogqMEkAhTbE53yjcXYOf3Tvo4wtL3By2IhzMUv6dJf16cTSKQUz9FfLaaVuAB8BjtqFiR9gYZY5+rp24uS1bJGCo/AXxCMi+p/3n7zK5bpFmtUII8t+9MqRpOJMH1TUAx1Yk5Jbq6gspqdm4+r8qDgJVQ8HUAaInuMDvzPuD09islrRxiQKa477YvQgTOIpD/f0mTWDe1ics5QEpWYAq5pBNdP4wyrP2lvLJRKsmly4Eud5gNvHNXKgoaaZ2chUwS2IXGR6jCxzn7PrxhQW5Zd6/Z/GbS4VuIxXVG8Y62VozTjaoOSn2fPdYdYmWuQIOCNJF648dwO4tTdZFEgPRAtVbUH6vPQFFXXlaP9SK5vaQXLaLEgIkrHuRhu+Gc9dx4knFrT90drIogy+QrnMVd+03mpy8S8bBYOxTtWvxIQJUAytxSHN9ndxzObD5YnKwT1hpr/5BXH6qwvOonfTl4T1Q4vYwMOIRLbq6TP34s3TivAwJtsreM8tf14LUxBgDswj+v1b9J2P/+XoIROfHgP97+D7uZW8Qc53r6eV3/ZPeM6Cma5Wlnc0gWlh8TcIyJM=
  on:
    repo: polysquare/python-parse-shebang
env:
  global:
    secure: migYlNtHCbIoYaQcCGtEQ9LsSpUkTSJ7o9UmDk6TVIDpee9/rfdfwnPV3rCGDJHvbTGHs7i7KkSuH/+lWy67bRhHxPTIZMWRPC1gpa0hDn2UAFNWhT7naSOH99wVkIrQGXglSihWMKkYZAcj8Par/FWu4TfveMH4qyRdC1Sb0zNRNMfQxfVB70B3OzMMfCzagVhuO2asTTyAIi0zZI8M1PF6YyumOZOg8sKSCgyyVAKdE0DQd1LaOc0AWnSKWERc3QNKFFXbCUiNf77IuY7g/74seibZEoYoA9q3aQyzZukzMhHYejW7H5Rtv/Wc7SnOgLgJw0sublP/DroPYFoHDVyADlskOXv0a3lCBVChBuxK6MwrAjHOAVf2Hv9AK+JEbVqo2WYbBtkJM/2sKDKcm3PgtmOitdYnrwdPbyGEUSTMO/K6e/onAzkuDi0OUYe1vpaD6We+dLKaYVBkhaVT6PGcgHZXAz5mq7rCfNkqVuJu6LZCCjY7duhlfQktCFwF/Gn5wFqnVvcJo+CmYrm3LkyizRPSPpCxcL3fSQuPLJZI8DchVPIOF+OW4uvUwgwmIlxr0b5DPATDmgw/yeJ+k+y0u1rNp58De7Pdyfzs7aQ44/0gFkMHCMpZxIMw91B8WNXz9m1pnhOXs8lFbdIiqeGzPdr1f5C5vblCaeSbAFM=
